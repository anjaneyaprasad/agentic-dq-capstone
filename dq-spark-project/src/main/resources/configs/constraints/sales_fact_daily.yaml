dataset: sales_fact_daily

constraints:
  # --------- Completeness ----------
  - type: completeness
    column: order_id
    level: ERROR

  - type: completeness_threshold
    column: customer_id
    threshold: 0.99          # >= 99% non-null
    level: ERROR

  # --------- Value domain ----------
  - type: domain
    column: currency
    allowed_values: ["INR", "USD", "EUR"]
    level: ERROR

  # --------- Numeric checks ----------
  - type: non_negative
    column: net_amount
    level: ERROR

  - type: min_value
    column: net_amount
    min: 0.0
    level: WARN

  - type: max_value
    column: net_amount
    max: 1000000.0
    level: WARN

  # --------- Uniqueness ----------
  - type: unique
    column: order_id
    level: ERROR

  # --------- Dataset size ----------
  - type: size_greater_than
    column: ""               # not used, but kept for schema
    threshold: 1             # at least 1 row
    level: ERROR
